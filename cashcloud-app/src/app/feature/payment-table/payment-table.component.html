<div class="card">
  <div class="table-header">
    <div class="flex flex-col">
      <h2 class="table-title">
        {{statusActual()}} <span class="badge">{{totalPayments()}}</span>
      </h2>
      <p class="table-description">
        Find and manage payments in this batch, from approvals to disbursements,
        with filters and customizable columns.
      </p>
    </div>
    <div class="header-actions">
      <button class="btn-outlined">
        <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M7 14H18V11.325H7V14ZM2 4.675H5V2H2V4.675ZM2 9.35H5V6.675H2V9.35ZM2 14H5V11.325H2V14ZM7 9.35H18V6.675H7V9.35ZM7 4.675H18V2H7V4.675ZM2 16C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14V2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0H18C18.55 0 19.0208 0.195833 19.4125 0.5875C19.8042 0.979167 20 1.45 20 2V14C20 14.55 19.8042 15.0208 19.4125 15.4125C19.0208 15.8042 18.55 16 18 16H2Z"
            fill="#667085" />
        </svg>
        Columns
        <span class="badge">{{columnCount}}</span>
      </button>
      <button class="btn-outlined">
        <svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 6H14M1.5 1H16.5M6.5 11H11.5" stroke="#344054" stroke-width="1.67" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
        Filters
      </button>
    </div>
  </div>
  <div class="container-state">
    <app-payment-actions-summary (tabSelected)="filterPaymentsByStatus($event)"></app-payment-actions-summary>
  </div>

  <p-table [value]="filteredPayments()" [tableStyle]="{ 'min-width': '50rem' }" [paginator]="true" [rows]="10"
    [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [rowsPerPageOptions]="[10, 20, 50, { showAll: 'All' }]" [globalFilterFields]="['id', 'payee', 'status']">
    <ng-template pTemplate="header">
      <tr>
        <th #colHeader scope="col">
          <p-tableHeaderCheckbox [attr.aria-label]="'select all'"></p-tableHeaderCheckbox>
        </th>
        <th #colHeader pSortableColumn="id">
          Payment ID/Type
          <p-sortIcon field="id"></p-sortIcon>
        </th>
        <th #colHeader>Payee</th>
        <th #colHeader>Address</th>
        <th #colHeader>Amount</th>
        <th #colHeader>Status</th>
        <th #colHeader>Date</th>
        <th #colHeader>Destination</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-payment>
      <tr>
        <td>
          <p-tableCheckbox [value]="payment"></p-tableCheckbox>
        </td>
        <td>
          <div class="payment-id">
            <span class="id-text">ID: {{ payment.id }}</span>
            <br />
            <span class="type-text">{{ payment.type }}</span>
          </div>
        </td>
        <td>{{ payment.payee }}</td>
        <td>{{ payment.address }}</td>
        <td>{{ payment.amount }}</td>
        <td>
          <app-status-badge [status]="payment.status"></app-status-badge>
        </td>
        <td>{{ payment.date }}</td>
        <td>{{ payment.destination }}</td>
        <td>
          <i class="pi pi-ellipsis-h table-action-icon"></i>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="paginatorleft">
      <div class="p-paginator-left-content">
        <p-button type="button" icon="pi pi-arrow-left" label="Previous" [text]="true" [outlined]="true"
          class="p-button-secondary-outlined"></p-button>
        <p-button type="button" icon="pi pi-arrow-right" label="Next" [text]="true" [outlined]="true"
          class="p-button-secondary-outlined"></p-button>
      </div>
    </ng-template>
  </p-table>
</div>
